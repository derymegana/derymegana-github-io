<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DERY AI - Advanced AI Image Generator</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #6e00ff;
            --primary-light: #9d4dff;
            --secondary: #ff00aa;
            --accent: #00f7ff;
            --text: #e0e0e0;
            --bg: #0a0a12;
            --card-bg: #151520;
            --card-shadow: 0 0 15px rgba(110, 0, 255, 0.3);
            --success: #00ff88;
            --warning: #ffaa00;
            --error: #ff0044;
            --transition: all 0.3s ease;
        }

        [data-theme="light"] {
            --primary: #5a00cc;
            --primary-light: #7d2aff;
            --secondary: #d4008f;
            --accent: #00c8d0;
            --text: #333333;
            --bg: #f5f5ff;
            --card-bg: #ffffff;
            --card-shadow: 0 0 15px rgba(90, 0, 204, 0.2);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--bg);
            color: var(--text);
            line-height: 1.6;
            overflow-x: hidden;
            position: relative;
            min-height: 100vh;
        }

        body::before {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at center, rgba(110, 0, 255, 0.1) 0%, transparent 70%);
            pointer-events: none;
            z-index: -1;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            border-bottom: 1px solid rgba(110, 0, 255, 0.3);
            margin-bottom: 30px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary-light);
            text-shadow: 0 0 10px rgba(110, 0, 255, 0.5);
        }

        .logo i {
            color: var(--accent);
        }

        .theme-toggle {
            background: linear-gradient(145deg, var(--primary), var(--secondary));
            border: none;
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            transition: var(--transition);
            box-shadow: 0 0 10px rgba(110, 0, 255, 0.3);
        }

        .theme-toggle:hover {
            transform: translateY(-2px);
            box-shadow: 0 0 15px rgba(110, 0, 255, 0.5);
        }

        .main-title {
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5rem;
            background: linear-gradient(90deg, var(--primary), var(--secondary), var(--accent));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 20px rgba(110, 0, 255, 0.2);
        }

        .language-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--card-bg);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);
            z-index: 100;
            border: 1px solid var(--primary);
        }

        .generator-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }

        @media (max-width: 1024px) {
            .generator-container {
                grid-template-columns: 1fr;
            }
        }

        .prompt-section, .settings-section {
            background-color: var(--card-bg);
            border-radius: 15px;
            padding: 25px;
            box-shadow: var(--card-shadow);
            border: 1px solid rgba(110, 0, 255, 0.2);
        }

        .section-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: var(--primary-light);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-title i {
            color: var(--accent);
        }

        .prompt-input {
            width: 100%;
            min-height: 150px;
            padding: 15px;
            border-radius: 10px;
            border: 1px solid rgba(110, 0, 255, 0.3);
            background-color: rgba(110, 0, 255, 0.05);
            color: var(--text);
            font-size: 1rem;
            resize: vertical;
            margin-bottom: 20px;
            transition: var(--transition);
        }

        .prompt-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(110, 0, 255, 0.2);
        }

        .negative-prompt {
            width: 100%;
            padding: 15px;
            border-radius: 10px;
            border: 1px solid rgba(255, 0, 170, 0.3);
            background-color: rgba(255, 0, 170, 0.05);
            color: var(--text);
            font-size: 1rem;
            resize: vertical;
            margin-bottom: 20px;
            transition: var(--transition);
        }

        .negative-prompt:focus {
            outline: none;
            border-color: var(--secondary);
            box-shadow: 0 0 0 2px rgba(255, 0, 170, 0.2);
        }

        .label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--primary-light);
        }

        .settings-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .setting-group {
            margin-bottom: 15px;
        }

        select, input[type="range"], input[type="number"] {
            width: 100%;
            padding: 10px;
            border-radius: 8px;
            border: 1px solid rgba(110, 0, 255, 0.3);
            background-color: rgba(110, 0, 255, 0.05);
            color: var(--text);
            font-size: 0.9rem;
            transition: var(--transition);
        }

        select:focus, input[type="range"]:focus, input[type="number"]:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(110, 0, 255, 0.2);
        }

        input[type="range"] {
            -webkit-appearance: none;
            height: 8px;
            background: rgba(110, 0, 255, 0.2);
            border-radius: 5px;
            padding: 0;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: var(--primary);
            cursor: pointer;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
        }

        .range-value {
            display: inline-block;
            width: 40px;
            text-align: center;
            margin-left: 10px;
            font-weight: 600;
            color: var(--accent);
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }

        .checkbox-group input[type="checkbox"] {
            appearance: none;
            width: 18px;
            height: 18px;
            border: 2px solid var(--primary);
            border-radius: 4px;
            cursor: pointer;
            position: relative;
            transition: var(--transition);
        }

        .checkbox-group input[type="checkbox"]:checked {
            background-color: var(--primary);
        }

        .checkbox-group input[type="checkbox"]:checked::after {
            content: "âœ“";
            position: absolute;
            color: white;
            font-size: 12px;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .checkbox-group label {
            cursor: pointer;
        }

        .btn {
            background: linear-gradient(145deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            font-size: 1rem;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 0 10px rgba(110, 0, 255, 0.3);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 0 20px rgba(110, 0, 255, 0.5);
        }

        .btn-secondary {
            background: transparent;
            border: 1px solid var(--primary);
            color: var(--primary-light);
        }

        .btn-secondary:hover {
            background: rgba(110, 0, 255, 0.1);
        }

        .btn-group {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .history-section {
            margin-top: 30px;
            background-color: var(--card-bg);
            border-radius: 15px;
            padding: 25px;
            box-shadow: var(--card-shadow);
            border: 1px solid rgba(110, 0, 255, 0.2);
        }

        .history-list {
            max-height: 200px;
            overflow-y: auto;
            margin-bottom: 20px;
            border: 1px solid rgba(110, 0, 255, 0.2);
            border-radius: 10px;
            padding: 10px;
        }

        .history-item {
            padding: 10px;
            border-bottom: 1px solid rgba(110, 0, 255, 0.1);
            cursor: pointer;
            transition: var(--transition);
            font-size: 0.9rem;
            display: flex;
            justify-content: space-between;
        }

        .history-item:hover {
            background-color: rgba(110, 0, 255, 0.1);
            border-radius: 5px;
        }

        .history-item:last-child {
            border-bottom: none;
        }

        .history-item i {
            color: var(--secondary);
            cursor: pointer;
        }

        .results-section {
            margin-top: 30px;
        }

        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .result-card {
            background-color: var(--card-bg);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: var(--card-shadow);
            border: 1px solid rgba(110, 0, 255, 0.2);
            transition: var(--transition);
            position: relative;
        }

        .result-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(110, 0, 255, 0.3);
        }

        .result-image {
            width: 100%;
            height: 300px;
            object-fit: cover;
            display: block;
        }

        .result-actions {
            display: flex;
            justify-content: space-between;
            padding: 15px;
            background: rgba(21, 21, 32, 0.8);
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            transform: translateY(100%);
            transition: var(--transition);
            opacity: 0;
        }

        .result-card:hover .result-actions {
            transform: translateY(0);
            opacity: 1;
        }

        .action-btn {
            background: rgba(110, 0, 255, 0.3);
            border: none;
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
        }

        .action-btn:hover {
            background: var(--primary);
            transform: scale(1.1);
        }

        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(10, 10, 18, 0.9);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        .loading-overlay.active {
            opacity: 1;
            pointer-events: all;
        }

        .loading-spinner {
            width: 80px;
            height: 80px;
            border: 5px solid rgba(110, 0, 255, 0.3);
            border-radius: 50%;
            border-top-color: var(--primary);
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }

        .loading-text {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-light);
            text-align: center;
            position: relative;
        }

        .loading-text::after {
            content: "...";
            position: absolute;
            animation: dots 1.5s infinite steps(4);
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        @keyframes dots {
            0%, 20% { content: "."; }
            40% { content: ".."; }
            60% { content: "..."; }
            80%, 100% { content: ""; }
        }

        .aspect-ratio-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 15px;
        }

        .aspect-btn {
            padding: 8px 12px;
            border-radius: 8px;
            background: rgba(110, 0, 255, 0.1);
            border: 1px solid var(--primary);
            color: var(--primary-light);
            cursor: pointer;
            font-size: 0.8rem;
            transition: var(--transition);
        }

        .aspect-btn.active {
            background: var(--primary);
            color: white;
        }

        .aspect-btn:hover {
            background: rgba(110, 0, 255, 0.3);
        }

        .share-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .share-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            transition: var(--transition);
        }

        .share-btn.facebook {
            background-color: #1877f2;
        }

        .share-btn.twitter {
            background-color: #1da1f2;
        }

        .share-btn.whatsapp {
            background-color: #25d366;
        }

        .share-btn.tiktok {
            background-color: #000000;
        }

        .share-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            border-radius: 10px;
            background-color: var(--card-bg);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            border-left: 5px solid var(--primary);
            transform: translateX(120%);
            transition: transform 0.3s ease;
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.success {
            border-left-color: var(--success);
        }

        .notification.error {
            border-left-color: var(--error);
        }

        .notification.warning {
            border-left-color: var(--warning);
        }

        footer {
            text-align: center;
            padding: 30px 0;
            margin-top: 50px;
            border-top: 1px solid rgba(110, 0, 255, 0.3);
            font-size: 0.9rem;
            color: rgba(224, 224, 224, 0.7);
        }

        .advanced-settings {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .advanced-settings.active {
            max-height: 1000px;
            margin-top: 20px;
        }

        .toggle-advanced {
            background: transparent;
            border: none;
            color: var(--primary-light);
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9rem;
            margin-top: 10px;
        }

        .toggle-advanced i {
            transition: transform 0.3s ease;
        }

        .toggle-advanced.active i {
            transform: rotate(180deg);
        }

        /* Cyberpunk elements */
        .cyberpunk-border {
            position: relative;
            overflow: hidden;
        }

        .cyberpunk-border::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--primary), var(--secondary), var(--accent), var(--secondary), var(--primary));
            animation: borderGlow 3s linear infinite;
            background-size: 200% 100%;
        }

        @keyframes borderGlow {
            0% { background-position: 0% 50%; }
            100% { background-position: 200% 50%; }
        }

        .cyberpunk-box {
            position: relative;
        }

        .cyberpunk-box::after {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(110, 0, 255, 0.1) 0%, rgba(255, 0, 170, 0.1) 50%, rgba(0, 247, 255, 0.1) 100%);
            pointer-events: none;
            z-index: -1;
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .main-title {
                font-size: 2rem;
            }
            
            .settings-grid {
                grid-template-columns: 1fr;
            }
            
            .btn-group {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="cyberpunk-border">
            <div class="logo">
                <i class="fas fa-robot"></i>
                <span>DERY AI</span>
            </div>
            <button class="theme-toggle" id="themeToggle">
                <i class="fas fa-moon"></i>
                <span class="en">Dark Mode</span>
                <span class="id" style="display: none;">Mode Gelap</span>
            </button>
        </header>

        <h1 class="main-title en">AI Image Generator</h1>
        <h1 class="main-title id" style="display: none;">Pembuat Gambar AI</h1>

        <div class="generator-container">
            <div class="prompt-section cyberpunk-box">
                <h2 class="section-title">
                    <i class="fas fa-keyboard"></i>
                    <span class="en">Prompt</span>
                    <span class="id" style="display: none;">Perintah</span>
                </h2>
                <label for="promptInput" class="label en">Describe the image you want to generate</label>
                <label for="promptInput" class="label id" style="display: none;">Deskripsikan gambar yang ingin Anda buat</label>
                <textarea id="promptInput" class="prompt-input" placeholder="Example: A cyberpunk cityscape at night with neon lights and flying cars, ultra-detailed, 8K"></textarea>
                
                <label for="negativePrompt" class="label en">Negative Prompt (what you don't want in the image)</label>
                <label for="negativePrompt" class="label id" style="display: none;">Perintah Negatif (yang tidak Anda inginkan dalam gambar)</label>
                <textarea id="negativePrompt" class="negative-prompt" placeholder="Example: blurry, low quality, distorted, extra limbs"></textarea>
                
                <div class="btn-group">
                    <button class="btn" id="generateBtn">
                        <i class="fas fa-magic"></i>
                        <span class="en">Generate Image</span>
                        <span class="id" style="display: none;">Buat Gambar</span>
                    </button>
                    <button class="btn btn-secondary" id="randomPromptBtn">
                        <i class="fas fa-random"></i>
                        <span class="en">Random Prompt</span>
                        <span class="id" style="display: none;">Perintah Acak</span>
                    </button>
                </div>
            </div>

            <div class="settings-section cyberpunk-box">
                <h2 class="section-title">
                    <i class="fas fa-sliders-h"></i>
                    <span class="en">Generation Settings</span>
                    <span class="id" style="display: none;">Pengaturan Pembuatan</span>
                </h2>
                
                <div class="setting-group">
                    <label class="label en">AI Model</label>
                    <label class="label id" style="display: none;">Model AI</label>
                    <select id="modelSelect">
                        <option value="default">Default</option>
                        <option value="dall-e-3">DALL-E 3</option>
                        <option value="flux">Flux</option>
                        <option value="midjourney">Midjourney</option>
                        <option value="stable-diffusion">Stable Diffusion</option>
                    </select>
                </div>
                
                <div class="setting-group">
                    <label class="label en">Style</label>
                    <label class="label id" style="display: none;">Gaya</label>
                    <select id="styleSelect">
                        <option value="default">Default</option>
                        <option value="realistic">Realistic</option>
                        <option value="digital-art">Digital Art</option>
                        <option value="anime">Anime Style</option>
                        <option value="photography">Photography</option>
                        <option value="watercolor">Watercolor</option>
                        <option value="airbrush">Air Brush</option>
                        <option value="3d-render">3D Render</option>
                        <option value="surrealism">Surrealism</option>
                        <option value="3d-disney">3D Disney Character</option>
                        <option value="studio-ghibli">Studio Ghibli</option>
                        <option value="caricature-3d">Caricature 3D</option>
                        <option value="cartoon">Cartoon</option>
                        <option value="graffiti">Graffiti Art</option>
                        <option value="pixel-art">Pixel Art</option>
                        <option value="steampunk">Steampunk</option>
                        <option value="cyberpunk">Cyberpunk</option>
                        <option value="psychedelic">Psychedelic</option>
                        <option value="fractal-vorter">Fractal Vorter</option>
                    </select>
                </div>
                
                <div class="setting-group">
                    <label class="label en">Lighting Enhancement</label>
                    <label class="label id" style="display: none;">Peningkatan Pencahayaan</label>
                    <select id="lightingSelect">
                        <option value="none">None</option>
                        <option value="hdr">HDR</option>
                        <option value="detail-ultra">Detail Ultra</option>
                        <option value="cinematic">Cinematic Lighting</option>
                        <option value="neon-glow">Neon Glow</option>
                        <option value="photorealistic">Photorealistic</option>
                        <option value="drama-light">Drama Light</option>
                        <option value="night-mode">Night Mode</option>
                    </select>
                </div>
                
                <div class="setting-group">
                    <label class="label en">Quality & Detail</label>
                    <label class="label id" style="display: none;">Kualitas & Detail</label>
                    <select id="qualitySelect">
                        <option value="standard">Standard</option>
                        <option value="ultra-realistic">Ultra-realistic</option>
                        <option value="hyper-detailed">Hyper-detailed</option>
                        <option value="8k-resolution">8K Resolution</option>
                        <option value="64-megapixels">64 Megapixels</option>
                        <option value="hdr-plus">HDR+</option>
                        <option value="unreal-engine-5">Unreal Engine 5</option>
                        <option value="masterpiece">Masterpiece</option>
                    </select>
                </div>
                
                <div class="setting-group">
                    <label class="label en">Aspect Ratio</label>
                    <label class="label id" style="display: none;">Rasio Aspek</label>
                    <div class="aspect-ratio-buttons">
                        <button class="aspect-btn active" data-ratio="1:1" data-width="1024" data-height="1024">Square (1:1)</button>
                        <button class="aspect-btn" data-ratio="4:3" data-width="1366" data-height="1024">Standard (4:3)</button>
                        <button class="aspect-btn" data-ratio="16:9" data-width="1920" data-height="1080">Widescreen (16:9)</button>
                        <button class="aspect-btn" data-ratio="9:16" data-width="1080" data-height="1920">Portrait (9:16)</button>
                        <button class="aspect-btn" data-ratio="3:2" data-width="1536" data-height="1024">Classic (3:2)</button>
                        <button class="aspect-btn" data-ratio="2:3" data-width="1024" data-height="1536">Tall (2:3)</button>
                    </div>
                </div>
                
                <div class="setting-group">
                    <label class="label en">Resolution</label>
                    <label class="label id" style="display: none;">Resolusi</label>
                    <div class="settings-grid">
                        <div>
                            <label class="label en">Width: <span id="widthValue">1024</span>px</label>
                            <label class="label id" style="display: none;">Lebar: <span id="widthValueId">1024</span>px</label>
                            <input type="range" id="widthRange" min="1024" max="3840" step="64" value="1024">
                        </div>
                        <div>
                            <label class="label en">Height: <span id="heightValue">1024</span>px</label>
                            <label class="label id" style="display: none;">Tinggi: <span id="heightValueId">1024</span>px</label>
                            <input type="range" id="heightRange" min="1024" max="3840" step="64" value="1024">
                        </div>
                    </div>
                </div>
                
                <div class="setting-group">
                    <label class="label en">Steps (quality)</label>
                    <label class="label id" style="display: none;">Langkah (kualitas)</label>
                    <input type="range" id="stepsRange" min="50" max="100" value="50">
                    <span class="range-value" id="stepsValue">50</span>
                </div>
                
                <div class="checkbox-group">
                    <input type="checkbox" id="nsfwCheckbox">
                    <label for="nsfwCheckbox" class="en">NSFW Content</label>
                    <label for="nsfwCheckbox" class="id" style="display: none;">Konten NSFW</label>
                </div>
                
                <div class="checkbox-group">
                    <input type="checkbox" id="enhanceDetailCheckbox">
                    <label for="enhanceDetailCheckbox" class="en">Enhance Ultra Detail</label>
                    <label for="enhanceDetailCheckbox" class="id" style="display: none;">Tingkatkan Detail Ultra</label>
                </div>
                
                <button class="toggle-advanced" id="toggleAdvanced">
                    <span class="en">Advanced Settings</span>
                    <span class="id" style="display: none;">Pengaturan Lanjutan</span>
                    <i class="fas fa-chevron-down"></i>
                </button>
                
                <div class="advanced-settings" id="advancedSettings">
                    <div class="setting-group">
                        <label class="label en">Color Palette</label>
                        <label class="label id" style="display: none;">Palet Warna</label>
                        <select id="colorPaletteSelect">
                            <option value="default">Default</option>
                            <option value="vibrant">Vibrant</option>
                            <option value="pastel">Pastel</option>
                            <option value="monochrome">Monochrome</option>
                            <option value="warm-tones">Warm Tones</option>
                            <option value="cool-tones">Cool Tones</option>
                            <option value="rgb">RGB</option>
                        </select>
                    </div>
                    
                    <div class="setting-group">
                        <label class="label en">Composition</label>
                        <label class="label id" style="display: none;">Komposisi</label>
                        <select id="compositionSelect">
                            <option value="default">Default</option>
                            <option value="close-up">Close-up</option>
                            <option value="wide-shot">Wide Shot</option>
                            <option value="macro">Macro</option>
                            <option value="aerial">Aerial</option>
                            <option value="low-angle">Low View Angle</option>
                            <option value="drone">Drone Wide Angle</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <div class="history-section cyberpunk-box">
            <h2 class="section-title">
                <i class="fas fa-history"></i>
                <span class="en">Prompt History</span>
                <span class="id" style="display: none;">Riwayat Perintah</span>
            </h2>
            <div class="history-list" id="historyList">
                <!-- History items will be added here -->
            </div>
            <div class="btn-group">
                <button class="btn btn-secondary" id="clearHistoryBtn">
                    <i class="fas fa-trash"></i>
                    <span class="en">Clear History</span>
                    <span class="id" style="display: none;">Hapus Riwayat</span>
                </button>
            </div>
        </div>

        <div class="results-section">
            <h2 class="section-title">
                <i class="fas fa-images"></i>
                <span class="en">Generated Images</span>
                <span class="id" style="display: none;">Gambar yang Dibuat</span>
            </h2>
            <div class="results-grid" id="resultsGrid">
                <!-- Generated images will be added here -->
            </div>
        </div>

        <footer class="cyberpunk-box">
            <p class="en">Â© 2025 DERY AI GENERATOR | Powered by Pollinations API | Developed by Dery Lau | Thanks to Github & Cloudflare</p>
            <p class="id" style="display: none;">Â© 2025 DERY AI GENERATOR | Didukung oleh Pollinations API | Dikembangkan oleh Dery Lau | Terima kasih kepada Github & Cloudflare</p>
        </footer>
    </div>

    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
        <div class="loading-text en">DERY AI Loading</div>
        <div class="loading-text id" style="display: none;">DERY AI Memuat</div>
    </div>

    <div class="notification" id="notification">
        <i class="fas fa-info-circle"></i>
        <span id="notificationMessage">This is a notification</span>
    </div>

    <div class="language-toggle" id="languageToggle">
        <i class="fas fa-globe"></i>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // DOM Elements
            const themeToggle = document.getElementById('themeToggle');
            const languageToggle = document.getElementById('languageToggle');
            const generateBtn = document.getElementById('generateBtn');
            const randomPromptBtn = document.getElementById('randomPromptBtn');
            const promptInput = document.getElementById('promptInput');
            const negativePrompt = document.getElementById('negativePrompt');
            const modelSelect = document.getElementById('modelSelect');
            const styleSelect = document.getElementById('styleSelect');
            const lightingSelect = document.getElementById('lightingSelect');
            const qualitySelect = document.getElementById('qualitySelect');
            const nsfwCheckbox = document.getElementById('nsfwCheckbox');
            const enhanceDetailCheckbox = document.getElementById('enhanceDetailCheckbox');
            const widthRange = document.getElementById('widthRange');
            const heightRange = document.getElementById('heightRange');
            const widthValue = document.getElementById('widthValue');
            const heightValue = document.getElementById('heightValue');
            const widthValueId = document.getElementById('widthValueId');
            const heightValueId = document.getElementById('heightValueId');
            const stepsRange = document.getElementById('stepsRange');
            const stepsValue = document.getElementById('stepsValue');
            const aspectRatioButtons = document.querySelectorAll('.aspect-btn');
            const historyList = document.getElementById('historyList');
            const clearHistoryBtn = document.getElementById('clearHistoryBtn');
            const resultsGrid = document.getElementById('resultsGrid');
            const loadingOverlay = document.getElementById('loadingOverlay');
            const notification = document.getElementById('notification');
            const notificationMessage = document.getElementById('notificationMessage');
            const toggleAdvanced = document.getElementById('toggleAdvanced');
            const advancedSettings = document.getElementById('advancedSettings');
            const colorPaletteSelect = document.getElementById('colorPaletteSelect');
            const compositionSelect = document.getElementById('compositionSelect');
            
            // Language elements
            const englishElements = document.querySelectorAll('.en');
            const indonesianElements = document.querySelectorAll('.id');
            
            // Variables
            let currentTheme = 'dark';
            let currentLanguage = 'en';
            let promptHistory = JSON.parse(localStorage.getItem('promptHistory')) || [];
            
            // Initialize
            updateHistoryList();
            updateSliderValues();
            
            // Theme Toggle
            themeToggle.addEventListener('click', function() {
                currentTheme = currentTheme === 'dark' ? 'light' : 'dark';
                document.documentElement.setAttribute('data-theme', currentTheme);
                
                const icon = themeToggle.querySelector('i');
                const text = themeToggle.querySelector('span');
                
                if (currentTheme === 'dark') {
                    icon.className = 'fas fa-moon';
                    if (currentLanguage === 'en') {
                        text.textContent = 'Dark Mode';
                    } else {
                        text.textContent = 'Mode Gelap';
                    }
                } else {
                    icon.className = 'fas fa-sun';
                    if (currentLanguage === 'en') {
                        text.textContent = 'Light Mode';
                    } else {
                        text.textContent = 'Mode Terang';
                    }
                }
            });
            
            // Language Toggle
            languageToggle.addEventListener('click', function() {
                currentLanguage = currentLanguage === 'en' ? 'id' : 'en';
                
                if (currentLanguage === 'en') {
                    englishElements.forEach(el => el.style.display = '');
                    indonesianElements.forEach(el => el.style.display = 'none');
                    
                    // Update theme toggle text
                    const themeText = themeToggle.querySelector('span');
                    if (currentTheme === 'dark') {
                        themeText.textContent = 'Dark Mode';
                    } else {
                        themeText.textContent = 'Light Mode';
                    }
                } else {
                    englishElements.forEach(el => el.style.display = 'none');
                    indonesianElements.forEach(el => el.style.display = '');
                    
                    // Update theme toggle text
                    const themeText = themeToggle.querySelector('span');
                    if (currentTheme === 'dark') {
                        themeText.textContent = 'Mode Gelap';
                    } else {
                        themeText.textContent = 'Mode Terang';
                    }
                }
            });
            
            // Aspect Ratio Buttons
            aspectRatioButtons.forEach(button => {
                button.addEventListener('click', function() {
                    aspectRatioButtons.forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                    
                    const width = parseInt(this.dataset.width);
                    const height = parseInt(this.dataset.height);
                    
                    widthRange.value = width;
                    heightRange.value = height;
                    updateSliderValues();
                });
            });
            
            // Slider Events
            widthRange.addEventListener('input', updateSliderValues);
            heightRange.addEventListener('input', updateSliderValues);
            stepsRange.addEventListener('input', function() {
                stepsValue.textContent = this.value;
            });
            
            // Random Prompt Button
            randomPromptBtn.addEventListener('click', function() {
                const randomPrompts = [
                    "A futuristic cyberpunk city at night with neon lights and flying cars, ultra-detailed, 8K resolution",
                    "A majestic dragon soaring over a medieval castle at sunset, digital art style",
                    "An astronaut exploring an alien planet with strange plants and creatures, photorealistic",
                    "A beautiful fantasy landscape with floating islands and waterfalls, Studio Ghibli style",
                    "A close-up portrait of a robot with intricate mechanical details, steampunk style",
                    "A surreal dreamscape with melting clocks and floating objects, Salvador Dali style",
                    "A cute 3D Disney character in a magical forest with glowing mushrooms",
                    "A cybernetic samurai warrior in a rain-soaked Tokyo street, neon lights reflecting",
                    "An underwater city with glass domes and marine life swimming around, ultra-detailed",
                    "A post-apocalyptic wasteland with abandoned vehicles and overgrown vegetation"
                ];
                
                const randomIndex = Math.floor(Math.random() * randomPrompts.length);
                promptInput.value = randomPrompts[randomIndex];
            });
            
            // Generate Button
            generateBtn.addEventListener('click', generateImage);
            
            // Clear History Button
            clearHistoryBtn.addEventListener('click', function() {
                promptHistory = [];
                localStorage.setItem('promptHistory', JSON.stringify(promptHistory));
                updateHistoryList();
                showNotification(currentLanguage === 'en' ? 'History cleared' : 'Riwayat dihapus', 'success');
            });
            
            // Toggle Advanced Settings
            toggleAdvanced.addEventListener('click', function() {
                advancedSettings.classList.toggle('active');
                this.classList.toggle('active');
            });
            
            // History List Click
            historyList.addEventListener('click', function(e) {
                if (e.target.classList.contains('history-item')) {
                    const prompt = e.target.dataset.prompt;
                    promptInput.value = prompt;
                } else if (e.target.tagName === 'I') {
                    const index = e.target.closest('.history-item').dataset.index;
                    promptHistory.splice(index, 1);
                    localStorage.setItem('promptHistory', JSON.stringify(promptHistory));
                    updateHistoryList();
                    showNotification(currentLanguage === 'en' ? 'Prompt removed from history' : 'Perintah dihapus dari riwayat', 'success');
                }
            });
            
            // Functions
            function updateSliderValues() {
                widthValue.textContent = widthRange.value;
                heightValue.textContent = heightRange.value;
                widthValueId.textContent = widthRange.value;
                heightValueId.textContent = heightRange.value;
            }
            
            function updateHistoryList() {
                historyList.innerHTML = '';
                
                if (promptHistory.length === 0) {
                    const emptyItem = document.createElement('div');
                    emptyItem.className = 'history-item';
                    emptyItem.textContent = currentLanguage === 'en' ? 'No history yet' : 'Belum ada riwayat';
                    historyList.appendChild(emptyItem);
                    return;
                }
                
                promptHistory.forEach((prompt, index) => {
                    const historyItem = document.createElement('div');
                    historyItem.className = 'history-item';
                    historyItem.dataset.prompt = prompt;
                    historyItem.dataset.index = index;
                    
                    const promptText = document.createElement('span');
                    promptText.textContent = prompt.length > 50 ? prompt.substring(0, 50) + '...' : prompt;
                    promptText.title = prompt;
                    
                    const deleteIcon = document.createElement('i');
                    deleteIcon.className = 'fas fa-times';
                    
                    historyItem.appendChild(promptText);
                    historyItem.appendChild(deleteIcon);
                    historyList.appendChild(historyItem);
                });
            }
            
            function showNotification(message, type) {
                notification.className = 'notification ' + type;
                notificationMessage.textContent = message;
                notification.classList.add('show');
                
                setTimeout(() => {
                    notification.classList.remove('show');
                }, 3000);
            }
            
            async function generateImage() {
                const prompt = promptInput.value.trim();
                const negative = negativePrompt.value.trim();
                
                if (!prompt) {
                    showNotification(
                        currentLanguage === 'en' ? 'Please enter a prompt' : 'Masukkan perintah terlebih dahulu', 
                        'error'
                    );
                    return;
                }
                
                // Add to history if not already there
                if (!promptHistory.includes(prompt)) {
                    promptHistory.unshift(prompt);
                    if (promptHistory.length > 10) {
                        promptHistory.pop();
                    }
                    localStorage.setItem('promptHistory', JSON.stringify(promptHistory));
                    updateHistoryList();
                }
                
                // Show loading
                loadingOverlay.classList.add('active');
                
                // Build the prompt with all settings
                let fullPrompt = prompt;
                
                // Add model if not default
                if (modelSelect.value !== 'default') {
                    fullPrompt += `, ${modelSelect.value}`;
                }
                
                // Add style if not default
                if (styleSelect.value !== 'default') {
                    fullPrompt += `, ${styleSelect.value}`;
                }
                
                // Add lighting if not none
                if (lightingSelect.value !== 'none') {
                    fullPrompt += `, ${lightingSelect.value}`;
                }
                
                // Add quality
                fullPrompt += `, ${qualitySelect.value}`;
                
                // Add enhanced detail if checked
                if (enhanceDetailCheckbox.checked) {
                    fullPrompt += ', ultra high resolution, super detailed, intricate details';
                }
                
                // Add NSFW if checked
                if (nsfwCheckbox.checked) {
                    fullPrompt += ', NSFW';
                }
                
                // Add color palette if not default
                if (colorPaletteSelect.value !== 'default') {
                    fullPrompt += `, ${colorPaletteSelect.value} color palette`;
                }
                
                // Add composition if not default
                if (compositionSelect.value !== 'default') {
                    fullPrompt += `, ${compositionSelect.value}`;
                }
                
                // Add negative prompt if exists
                if (negative) {
                    fullPrompt += ` | negative: ${negative}`;
                }
                
                // Get dimensions and steps
                const width = widthRange.value;
                const height = heightRange.value;
                const steps = stepsRange.value;
                
                try {
                    // Encode the prompt for URL
                    const encodedPrompt = encodeURIComponent(fullPrompt);
                    
                    // Build the API URL
                    const apiUrl = `https://image.pollinations.ai/prompt/${encodedPrompt}?width=${width}&height=${height}&steps=${steps}&nologo=true`;
                    
                    // Create image element
                    const img = document.createElement('img');
                    img.src = apiUrl;
                    img.alt = prompt;
                    img.className = 'result-image';
                    
                    // Create card element
                    const card = document.createElement('div');
                    card.className = 'result-card';
                    
                    // Create actions element
                    const actions = document.createElement('div');
                    actions.className = 'result-actions';
                    
                    // Create download button
                    const downloadBtn = document.createElement('button');
                    downloadBtn.className = 'action-btn';
                    downloadBtn.innerHTML = '<i class="fas fa-download"></i>';
                    downloadBtn.title = currentLanguage === 'en' ? 'Download' : 'Unduh';
                    downloadBtn.addEventListener('click', () => downloadImage(apiUrl, prompt));
                    
                    // Create share buttons
                    const shareFacebookBtn = document.createElement('button');
                    shareFacebookBtn.className = 'action-btn';
                    shareFacebookBtn.innerHTML = '<i class="fab fa-facebook-f"></i>';
                    shareFacebookBtn.title = 'Share on Facebook';
                    shareFacebookBtn.addEventListener('click', () => shareImage('facebook', apiUrl, prompt));
                    
                    const shareWhatsappBtn = document.createElement('button');
                    shareWhatsappBtn.className = 'action-btn';
                    shareWhatsappBtn.innerHTML = '<i class="fab fa-whatsapp"></i>';
                    shareWhatsappBtn.title = 'Share on WhatsApp';
                    shareWhatsappBtn.addEventListener('click', () => shareImage('whatsapp', apiUrl, prompt));
                    
                    const shareTiktokBtn = document.createElement('button');
                    shareTiktokBtn.className = 'action-btn';
                    shareTiktokBtn.innerHTML = '<i class="fab fa-tiktok"></i>';
                    shareTiktokBtn.title = 'Share on TikTok';
                    shareTiktokBtn.addEventListener('click', () => shareImage('tiktok', apiUrl, prompt));
                    
                    // Append buttons to actions
                    actions.appendChild(downloadBtn);
                    actions.appendChild(shareFacebookBtn);
                    actions.appendChild(shareWhatsappBtn);
                    actions.appendChild(shareTiktokBtn);
                    
                    // Append elements to card
                    card.appendChild(img);
                    card.appendChild(actions);
                    
                    // Add card to results grid at the beginning
                    resultsGrid.insertBefore(card, resultsGrid.firstChild);
                    
                    showNotification(
                        currentLanguage === 'en' ? 'Image generated successfully!' : 'Gambar berhasil dibuat!', 
                        'success'
                    );
                } catch (error) {
                    console.error('Error generating image:', error);
                    showNotification(
                        currentLanguage === 'en' ? 'Error generating image' : 'Gagal membuat gambar', 
                        'error'
                    );
                } finally {
                    loadingOverlay.classList.remove('active');
                }
            }
            
            function downloadImage(url, prompt) {
                fetch(url)
                    .then(response => response.blob())
                    .then(blob => {
                        const a = document.createElement('a');
                        a.href = URL.createObjectURL(blob);
                        a.download = `dery-ai-${prompt.substring(0, 20).toLowerCase().replace(/\s+/g, '-')}-${Date.now()}.png`;
                        document.body.appendChild(a);
                        a.click();
                        document.body.removeChild(a);
                        
                        showNotification(
                            currentLanguage === 'en' ? 'Download started' : 'Unduhan dimulai', 
                            'success'
                        );
                    })
                    .catch(error => {
                        console.error('Download error:', error);
                        showNotification(
                            currentLanguage === 'en' ? 'Download failed' : 'Gagal mengunduh', 
                            'error'
                        );
                    });
            }
            
            function shareImage(platform, url, prompt) {
                let shareUrl = '';
                const text = `Check out this AI-generated image: ${prompt}`;
                
                switch (platform) {
                    case 'facebook':
                        shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}&quote=${encodeURIComponent(text)}`;
                        break;
                    case 'whatsapp':
                        shareUrl = `https://wa.me/?text=${encodeURIComponent(`${text} ${url}`)}`;
                        break;
                    case 'tiktok':
                        // TikTok doesn't have a direct share API, so we'll just copy to clipboard
                        navigator.clipboard.writeText(`${text} ${url}`);
                        showNotification(
                            currentLanguage === 'en' ? 'Link copied to clipboard' : 'Tautan disalin ke clipboard', 
                            'success'
                        );
                        return;
                    default:
                        return;
                }
                
                window.open(shareUrl, '_blank', 'width=600,height=400');
            }
        });
    </script>
</body>
</html>
