<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>DERY AI ULTIMATE STUDIO</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>

    <div class="app-container">
        <header>
            <div class="brand">
                <i class="fas fa-layer-group"></i> DERY AI <span>PRO STUDIO</span>
            </div>
            <button onclick="clearHistory()" class="btn-reset"><i class="fas fa-trash"></i> Reset History</button>
        </header>

        <div class="main-controls">
            <section class="panel">
                <div class="panel-header"><i class="fas fa-keyboard"></i> Core Generator</div>
                <textarea id="promptInput" placeholder="Deskripsikan imajinasimu... (Contoh: A cyberpunk samurai in neon city, intricate details)"></textarea>
                
                <div class="grid-2">
                    <div class="input-group">
                        <label>Model AI</label>
                        <select id="modelSelect">
                            <option value="flux">Flux 2.0 (Best Quality)</option>
                            <option value="flux-realism">Flux Photorealistic</option>
                            <option value="flux-anime">Flux Anime</option>
                            <option value="flux-3d">Flux 3D Render</option>
                            <option value="any-dark">Dark Fantasy</option>
                            <option value="turbo">Turbo Fast</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>Aspek Rasio</label>
                        <select id="aspectRatio">
                            <option value="9:16">9:16 (Story/TikTok)</option>
                            <option value="16:9">16:9 (Youtube/PC)</option>
                            <option value="1:1">1:1 (Square/IG)</option>
                            <option value="4:5">4:5 (Portrait/IG)</option>
                            <option value="21:9">21:9 (Cinematic)</option>
                            <option value="3:4">3:4 (Classic Portrait)</option>
                        </select>
                    </div>
                </div>
            </section>

            <section class="panel">
                <div class="panel-header"><i class="fas fa-palette"></i> Advanced Visuals</div>
                <div class="grid-3">
                    <div class="input-group">
                        <label>Art Style</label>
                        <select id="styleSelect">
                            <option value="">None (Raw)</option>
                            <option value="Surrealism">Surreal</option>
                            <option value="Psychedelic">Psychedelic</option>
                            <option value="Macabre">Macabre</option>
                            <option value="Chaotic">Chaotic</option>
                            <option value="Fractal">Fractal</option>
                            <option value="Cyberpunk">Cyberpunk</option>
                            <option value="Steampunk">Steampunk</option>
                            <option value="Synthwave">Synthwave</option>
                            <option value="Ukiyo-e">Ukiyo-e</option>
                            <option value="Gothic">Gothic</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>Color Palette</label>
                        <select id="colorSelect">
                            <option value="">Default</option>
                            <option value="Vivid Colors">Vivid Colors</option>
                            <option value="Vibrant Colors">Vibrant Colors</option>
                            <option value="Pastel Colors">Pastel Colors</option>
                            <option value="Neon Colors">Neon Colors</option>
                            <option value="Iridescent">Iridescent / Luminescent</option>
                            <option value="Chromatic">Chromatic / Prism</option>
                            <option value="Monochrome">Monochrome</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>Composition</label>
                        <select id="compSelect">
                            <option value="">Default</option>
                            <option value="Close-up">Close-up</option>
                            <option value="Wide Shot">Wide Shot</option>
                            <option value="Macro Photography">Macro</option>
                            <option value="Aerial View">Aerial / Drone</option>
                            <option value="Low Angle">Low View Angle</option>
                            <option value="Bird's Eye View">Bird's Eye View</option>
                        </select>
                    </div>
                </div>
                <div class="toggles">
                    <label><input type="checkbox" id="enhancePrompt" checked> Magic Enhance</label>
                    <label><input type="checkbox" id="qualityBoost" checked> 8K Masterpiece</label>
                </div>
            </section>

            <section class="panel watermark-panel">
                <div class="panel-header">
                    <i class="fas fa-copyright"></i> Watermark Studio 
                    <small>(Edit Real-time)</small>
                </div>
                <div class="grid-2">
                    <div class="input-group">
                        <label>Teks Watermark</label>
                        <input type="text" id="wmText" placeholder="Nama Kamu..." oninput="updateWatermarkPreview()">
                    </div>
                    <div class="input-group">
                        <label>Posisi</label>
                        <select id="wmPosition" onchange="updateWatermarkPreview()">
                            <option value="bottom-right">Pojok Kanan Bawah</option>
                            <option value="bottom-left">Pojok Kiri Bawah</option>
                            <option value="top-right">Pojok Kanan Atas</option>
                            <option value="top-left">Pojok Kiri Atas</option>
                            <option value="center">Tengah (Center)</option>
                        </select>
                    </div>
                </div>
                <div class="grid-3 small-gap">
                    <div class="input-group">
                        <label>Ukuran</label>
                        <input type="range" id="wmSize" min="10" max="100" value="40" oninput="updateWatermarkPreview()">
                    </div>
                    <div class="input-group">
                        <label>Transparansi</label>
                        <input type="range" id="wmOpacity" min="0.1" max="1" step="0.1" value="0.7" oninput="updateWatermarkPreview()">
                    </div>
                    <div class="input-group">
                        <label>Warna</label>
                        <input type="color" id="wmColor" value="#ffffff" oninput="updateWatermarkPreview()" style="height: 40px; cursor: pointer;">
                    </div>
                </div>
            </section>

            <button id="generateBtn" onclick="startGenerate()">
                <i class="fas fa-bolt"></i> GENERATE IMAGE
            </button>
        </div>

        <div class="output-area">
            <div class="image-wrapper" id="imageWrapper">
                <div id="loader" class="loader-overlay" style="display: none;">
                    <div class="spinner"></div>
                    <p>Meracik Pixel... (5-15 detik)</p>
                </div>
                
                <div id="placeholder">
                    <i class="fas fa-image"></i>
                    <p>Hasil gambar akan muncul di sini</p>
                </div>

                <canvas id="resultCanvas" style="display: none;"></canvas>
            </div>

            <div id="actionButtons" class="actions" style="display: none;">
                <button onclick="downloadCanvas()" class="btn-download"><i class="fas fa-download"></i> Download PNG</button>
                <span id="seedInfo">Seed: -</span>
            </div>
        </div>

        <div class="history-area">
            <h3>Riwayat Project</h3>
            <div id="historyGrid" class="history-grid"></div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
